<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 21 FIFA 19 | Predictive Models: Explore, Explain, and Debug</title>
  <meta name="description" content="This book introduces key concepts for exploration, explanation and visualization of complex predictive models." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 21 FIFA 19 | Predictive Models: Explore, Explain, and Debug" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book introduces key concepts for exploration, explanation and visualization of complex predictive models." />
  <meta name="github-repo" content="pbiecek/PM_VEE" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 21 FIFA 19 | Predictive Models: Explore, Explain, and Debug" />
  
  <meta name="twitter:description" content="This book introduces key concepts for exploration, explanation and visualization of complex predictive models." />
  

<meta name="author" content="Przemyslaw Biecek and Tomasz Burzykowski" />


<meta name="date" content="2019-12-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="use-cases.html"/>
<link rel="next" href="appendixes.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<!-- Global site tag (gtag.js) - Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-5650686-15', 'https://pbiecek.github.io/PM_VEE/', {
  'anonymizeIp': true
  , 'storage': 'none'
  , 'clientId': window.localStorage.getItem('ga_clientId')
});
ga(function(tracker) {
  window.localStorage.setItem('ga_clientId', tracker.get('clientId'));
});
ga('send', 'pageview');
</script>
<style>
.figure {
   padding:40px 0px;
}
</style>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Predictive Models: Explore, Explain, and Debug<br/> Human-Centered Interpretable Machine Learning</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#notes-to-readers"><i class="fa fa-check"></i><b>1.1</b> Notes to readers</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#the-aim-of-the-book"><i class="fa fa-check"></i><b>1.2</b> The aim of the book</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#three-single-laws"><i class="fa fa-check"></i><b>1.3</b> A bit of philosophy: three laws of model explanation</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#bookstructure"><i class="fa fa-check"></i><b>1.4</b> The structure of the book</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#terminology"><i class="fa fa-check"></i><b>1.5</b> Terminology</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#glass-box-models-vs.black-box-models"><i class="fa fa-check"></i><b>1.6</b> Glass-box models vs. black-box models</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#model-agnostic-vs.model-specific-approach"><i class="fa fa-check"></i><b>1.7</b> Model-agnostic vs. model-specific approach</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#what-is-in-this-book-and-what-is-not"><i class="fa fa-check"></i><b>1.8</b> What is in this book and what is not</a></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#thanksto"><i class="fa fa-check"></i><b>1.9</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html"><i class="fa fa-check"></i><b>2</b> Model Development</a><ul>
<li class="chapter" data-level="2.1" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#notation"><i class="fa fa-check"></i><b>2.1</b> Notation - from introduction</a></li>
<li class="chapter" data-level="2.2" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#model-visualization-exploration-and-explanation---from-introduction"><i class="fa fa-check"></i><b>2.2</b> Model visualization, exploration, and explanation - from introduction</a></li>
<li class="chapter" data-level="2.3" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#MDPIntro"><i class="fa fa-check"></i><b>2.3</b> Introduction</a></li>
<li class="chapter" data-level="2.4" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#the-process"><i class="fa fa-check"></i><b>2.4</b> The Process</a></li>
<li class="chapter" data-level="2.5" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#data-preparation"><i class="fa fa-check"></i><b>2.5</b> Data preparation</a></li>
<li class="chapter" data-level="2.6" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#data-exploration"><i class="fa fa-check"></i><b>2.6</b> Data exploration</a></li>
<li class="chapter" data-level="2.7" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#model-assembly"><i class="fa fa-check"></i><b>2.7</b> Model assembly</a></li>
<li class="chapter" data-level="2.8" data-path="modelDevelopmentProcess.html"><a href="modelDevelopmentProcess.html#model-understanding"><i class="fa fa-check"></i><b>2.8</b> Model understanding</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="doItYourselfWithR.html"><a href="doItYourselfWithR.html"><i class="fa fa-check"></i><b>3</b> Do-it-yourself With R</a><ul>
<li class="chapter" data-level="3.1" data-path="doItYourselfWithR.html"><a href="doItYourselfWithR.html#what-to-install"><i class="fa fa-check"></i><b>3.1</b> What to install?</a></li>
<li class="chapter" data-level="3.2" data-path="doItYourselfWithR.html"><a href="doItYourselfWithR.html#how-to-work-with-dalex"><i class="fa fa-check"></i><b>3.2</b> How to work with <code>DALEX</code>?</a></li>
<li class="chapter" data-level="3.3" data-path="doItYourselfWithR.html"><a href="doItYourselfWithR.html#how-to-work-with-archivist"><i class="fa fa-check"></i><b>3.3</b> How to work with <code>archivist</code>?</a></li>
<li class="chapter" data-level="3.4" data-path="doItYourselfWithR.html"><a href="doItYourselfWithR.html#Packages"><i class="fa fa-check"></i><b>3.4</b> DrWhy Packages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="doItYourselfWithPython.html"><a href="doItYourselfWithPython.html"><i class="fa fa-check"></i><b>4</b> Do-it-yourself With Python</a></li>
<li class="chapter" data-level="5" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html"><i class="fa fa-check"></i><b>5</b> Data sets and models</a><ul>
<li class="chapter" data-level="5.1" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#TitanicDataset"><i class="fa fa-check"></i><b>5.1</b> Sinking of the RMS Titanic</a><ul>
<li class="chapter" data-level="5.1.1" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#exploration-titanic"><i class="fa fa-check"></i><b>5.1.1</b> Data exploration</a></li>
<li class="chapter" data-level="5.1.2" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#model-titanic-lmr"><i class="fa fa-check"></i><b>5.1.2</b> Logistic regression</a></li>
<li class="chapter" data-level="5.1.3" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#model-titanic-rf"><i class="fa fa-check"></i><b>5.1.3</b> Random forest</a></li>
<li class="chapter" data-level="5.1.4" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#model-titanic-gbm"><i class="fa fa-check"></i><b>5.1.4</b> Gradient boosting</a></li>
<li class="chapter" data-level="5.1.5" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#predictions-titanic"><i class="fa fa-check"></i><b>5.1.5</b> Model predictions</a></li>
<li class="chapter" data-level="5.1.6" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#ExplainersTitanicRCode"><i class="fa fa-check"></i><b>5.1.6</b> Explainers</a></li>
<li class="chapter" data-level="5.1.7" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#ListOfModelsTitanic"><i class="fa fa-check"></i><b>5.1.7</b> List of objects for the <code>titanic</code> example</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#ApartmentDataset"><i class="fa fa-check"></i><b>5.2</b> Apartment prices</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#exploration-apartments"><i class="fa fa-check"></i><b>5.2.1</b> Data exploration</a></li>
<li class="chapter" data-level="5.2.2" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#model-Apartments-lr"><i class="fa fa-check"></i><b>5.2.2</b> Linear regression</a></li>
<li class="chapter" data-level="5.2.3" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#model-Apartments-rf"><i class="fa fa-check"></i><b>5.2.3</b> Random forest</a></li>
<li class="chapter" data-level="5.2.4" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#predictionsApartments"><i class="fa fa-check"></i><b>5.2.4</b> Model predictions</a></li>
<li class="chapter" data-level="5.2.5" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#ExplainersApartmentsRCode"><i class="fa fa-check"></i><b>5.2.5</b> Explainers</a></li>
<li class="chapter" data-level="5.2.6" data-path="dataSetsIntro.html"><a href="dataSetsIntro.html#ListOfModelsApartments"><i class="fa fa-check"></i><b>5.2.6</b> List of objects for the <code>apartments</code> example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="instance-level.html"><a href="instance-level.html"><i class="fa fa-check"></i>Instance Level</a></li>
<li class="chapter" data-level="6" data-path="InstanceLevelExploration.html"><a href="InstanceLevelExploration.html"><i class="fa fa-check"></i><b>6</b> Introduction to Instance Level Exploration</a></li>
<li class="chapter" data-level="7" data-path="breakDown.html"><a href="breakDown.html"><i class="fa fa-check"></i><b>7</b> Break-down Plots for Additive Variable Attributions</a><ul>
<li class="chapter" data-level="7.1" data-path="breakDown.html"><a href="breakDown.html#BDIntuition"><i class="fa fa-check"></i><b>7.1</b> Intuition</a></li>
<li class="chapter" data-level="7.2" data-path="breakDown.html"><a href="breakDown.html#BDMethod"><i class="fa fa-check"></i><b>7.2</b> Method</a><ul>
<li class="chapter" data-level="7.2.1" data-path="breakDown.html"><a href="breakDown.html#break-down-for-linear-models"><i class="fa fa-check"></i><b>7.2.1</b> Break-down for linear models</a></li>
<li class="chapter" data-level="7.2.2" data-path="breakDown.html"><a href="breakDown.html#break-down-for-general-case"><i class="fa fa-check"></i><b>7.2.2</b> Break-down for general case</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="breakDown.html"><a href="breakDown.html#BDExample"><i class="fa fa-check"></i><b>7.3</b> Example: Titanic data</a></li>
<li class="chapter" data-level="7.4" data-path="breakDown.html"><a href="breakDown.html#BDProsCons"><i class="fa fa-check"></i><b>7.4</b> Pros and cons</a></li>
<li class="chapter" data-level="7.5" data-path="breakDown.html"><a href="breakDown.html#BDR"><i class="fa fa-check"></i><b>7.5</b> Code snippets for R</a><ul>
<li class="chapter" data-level="7.5.1" data-path="breakDown.html"><a href="breakDown.html#basic-use-of-the-break_down-function"><i class="fa fa-check"></i><b>7.5.1</b> Basic use of the <code>break_down()</code> function</a></li>
<li class="chapter" data-level="7.5.2" data-path="breakDown.html"><a href="breakDown.html#advanced-use-of-the-break_down-function"><i class="fa fa-check"></i><b>7.5.2</b> Advanced use of the <code>break_down()</code> function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="iBreakDown.html"><a href="iBreakDown.html"><i class="fa fa-check"></i><b>8</b> Break-down Plots for Models with Interactions (iBreak-down Plots)</a><ul>
<li class="chapter" data-level="8.1" data-path="iBreakDown.html"><a href="iBreakDown.html#iBDIntuition"><i class="fa fa-check"></i><b>8.1</b> Intuition</a></li>
<li class="chapter" data-level="8.2" data-path="iBreakDown.html"><a href="iBreakDown.html#iBDMethod"><i class="fa fa-check"></i><b>8.2</b> Method</a></li>
<li class="chapter" data-level="8.3" data-path="iBreakDown.html"><a href="iBreakDown.html#iBDExample"><i class="fa fa-check"></i><b>8.3</b> Example: Titanic data</a></li>
<li class="chapter" data-level="8.4" data-path="iBreakDown.html"><a href="iBreakDown.html#iBDProsCons"><i class="fa fa-check"></i><b>8.4</b> Pros and cons</a></li>
<li class="chapter" data-level="8.5" data-path="iBreakDown.html"><a href="iBreakDown.html#iBDRcode"><i class="fa fa-check"></i><b>8.5</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="shapley.html"><a href="shapley.html"><i class="fa fa-check"></i><b>9</b> Shapley Additive Explanations (SHAP) and Average Variable Attributions</a><ul>
<li class="chapter" data-level="9.1" data-path="shapley.html"><a href="shapley.html#SHAPIntuition"><i class="fa fa-check"></i><b>9.1</b> Intuition</a></li>
<li class="chapter" data-level="9.2" data-path="shapley.html"><a href="shapley.html#SHAPMethod"><i class="fa fa-check"></i><b>9.2</b> Method</a></li>
<li class="chapter" data-level="9.3" data-path="shapley.html"><a href="shapley.html#SHAPExample"><i class="fa fa-check"></i><b>9.3</b> Example: Titanic data</a></li>
<li class="chapter" data-level="9.4" data-path="shapley.html"><a href="shapley.html#SHAProsCons"><i class="fa fa-check"></i><b>9.4</b> Pros and cons</a></li>
<li class="chapter" data-level="9.5" data-path="shapley.html"><a href="shapley.html#SHAPRcode"><i class="fa fa-check"></i><b>9.5</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="LIME.html"><a href="LIME.html"><i class="fa fa-check"></i><b>10</b> Local Interpretable Model-agnostic Explanations (LIME)</a><ul>
<li class="chapter" data-level="10.1" data-path="LIME.html"><a href="LIME.html#LIMEIntroduction"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="LIME.html"><a href="LIME.html#LIMEIntuition"><i class="fa fa-check"></i><b>10.2</b> Intuition</a></li>
<li class="chapter" data-level="10.3" data-path="LIME.html"><a href="LIME.html#LIMEMethod"><i class="fa fa-check"></i><b>10.3</b> Method</a><ul>
<li class="chapter" data-level="10.3.1" data-path="LIME.html"><a href="LIME.html#interpretable-data-representation"><i class="fa fa-check"></i><b>10.3.1</b> Interpretable data representation</a></li>
<li class="chapter" data-level="10.3.2" data-path="LIME.html"><a href="LIME.html#sampling-around-the-instance-of-interest"><i class="fa fa-check"></i><b>10.3.2</b> Sampling around the instance of interest</a></li>
<li class="chapter" data-level="10.3.3" data-path="LIME.html"><a href="LIME.html#developing-the-white-box-model"><i class="fa fa-check"></i><b>10.3.3</b> Developing the white-box model</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="LIME.html"><a href="LIME.html#LIMEExample"><i class="fa fa-check"></i><b>10.4</b> Example: Titanic data</a></li>
<li class="chapter" data-level="10.5" data-path="LIME.html"><a href="LIME.html#LIMEProsCons"><i class="fa fa-check"></i><b>10.5</b> Pros and cons</a></li>
<li class="chapter" data-level="10.6" data-path="LIME.html"><a href="LIME.html#LIMERcode"><i class="fa fa-check"></i><b>10.6</b> Code snippets for R</a><ul>
<li class="chapter" data-level="10.6.1" data-path="LIME.html"><a href="LIME.html#the-lime-package"><i class="fa fa-check"></i><b>10.6.1</b> The lime package</a></li>
<li class="chapter" data-level="10.6.2" data-path="LIME.html"><a href="LIME.html#the-localmodel-package"><i class="fa fa-check"></i><b>10.6.2</b> The localModel package</a></li>
<li class="chapter" data-level="10.6.3" data-path="LIME.html"><a href="LIME.html#the-iml-package"><i class="fa fa-check"></i><b>10.6.3</b> The iml package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ceterisParibus.html"><a href="ceterisParibus.html"><i class="fa fa-check"></i><b>11</b> Ceteris-paribus Profiles and What-If Analysis</a><ul>
<li class="chapter" data-level="11.1" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPIntro"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPIntuition"><i class="fa fa-check"></i><b>11.2</b> Intuition</a></li>
<li class="chapter" data-level="11.3" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPMethod"><i class="fa fa-check"></i><b>11.3</b> Method</a></li>
<li class="chapter" data-level="11.4" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPExample"><i class="fa fa-check"></i><b>11.4</b> Example: Titanic</a></li>
<li class="chapter" data-level="11.5" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPProsCons"><i class="fa fa-check"></i><b>11.5</b> Pros and cons</a></li>
<li class="chapter" data-level="11.6" data-path="ceterisParibus.html"><a href="ceterisParibus.html#CPR"><i class="fa fa-check"></i><b>11.6</b> Code snippets for R</a><ul>
<li class="chapter" data-level="11.6.1" data-path="ceterisParibus.html"><a href="ceterisParibus.html#basic-use-of-the-ceteris_paribus-function"><i class="fa fa-check"></i><b>11.6.1</b> Basic use of the <code>ceteris_paribus</code> function</a></li>
<li class="chapter" data-level="11.6.2" data-path="ceterisParibus.html"><a href="ceterisParibus.html#advanced-use-of-the-ceteris_paribus-function"><i class="fa fa-check"></i><b>11.6.2</b> Advanced use of the <code>ceteris_paribus</code> function</a></li>
<li class="chapter" data-level="11.6.3" data-path="ceterisParibus.html"><a href="ceterisParibus.html#champion-challenger-analysis"><i class="fa fa-check"></i><b>11.6.3</b> Champion-challenger analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html"><i class="fa fa-check"></i><b>12</b> Ceteris-paribus Oscillations and Local Variable-importance</a><ul>
<li class="chapter" data-level="12.1" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscIntro"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscIntuition"><i class="fa fa-check"></i><b>12.2</b> Intuition</a></li>
<li class="chapter" data-level="12.3" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscMethod"><i class="fa fa-check"></i><b>12.3</b> Method</a></li>
<li class="chapter" data-level="12.4" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscExample"><i class="fa fa-check"></i><b>12.4</b> Example: Titanic</a></li>
<li class="chapter" data-level="12.5" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscProsCons"><i class="fa fa-check"></i><b>12.5</b> Pros and cons</a></li>
<li class="chapter" data-level="12.6" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#CPOscR"><i class="fa fa-check"></i><b>12.6</b> Code snippets for R</a><ul>
<li class="chapter" data-level="12.6.1" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#basic-use-of-the-calculate_oscillations-function"><i class="fa fa-check"></i><b>12.6.1</b> Basic use of the <code>calculate_oscillations</code> function</a></li>
<li class="chapter" data-level="12.6.2" data-path="ceterisParibusOscillations.html"><a href="ceterisParibusOscillations.html#advanced-use-of-the-calculate_oscillations-function"><i class="fa fa-check"></i><b>12.6.2</b> Advanced use of the <code>calculate_oscillations</code> function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="localDiagnostics.html"><a href="localDiagnostics.html"><i class="fa fa-check"></i><b>13</b> Local Diagnostics With Ceteris-paribus Profiles</a><ul>
<li class="chapter" data-level="13.1" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagIntro"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagIntuition"><i class="fa fa-check"></i><b>13.2</b> Intuition</a></li>
<li class="chapter" data-level="13.3" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagMethod"><i class="fa fa-check"></i><b>13.3</b> Method</a><ul>
<li class="chapter" data-level="13.3.1" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagNeighbors"><i class="fa fa-check"></i><b>13.3.1</b> Nearest neighbors</a></li>
<li class="chapter" data-level="13.3.2" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagProfiles"><i class="fa fa-check"></i><b>13.3.2</b> Profiles for neighbors</a></li>
<li class="chapter" data-level="13.3.3" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagLFplot"><i class="fa fa-check"></i><b>13.3.3</b> Local-fidelity plot</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagExample"><i class="fa fa-check"></i><b>13.4</b> Example: Titanic</a></li>
<li class="chapter" data-level="13.5" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagProsCons"><i class="fa fa-check"></i><b>13.5</b> Pros and cons</a></li>
<li class="chapter" data-level="13.6" data-path="localDiagnostics.html"><a href="localDiagnostics.html#cPLocDiagR"><i class="fa fa-check"></i><b>13.6</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html"><i class="fa fa-check"></i><b>14</b> Summary of Instance-level Explainers</a><ul>
<li class="chapter" data-level="14.1" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#number-of-explanatory-variables-in-the-model"><i class="fa fa-check"></i><b>14.1</b> Number of explanatory variables in the model</a><ul>
<li class="chapter" data-level="14.1.1" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#low-to-medium-number-of-explanatory-variables"><i class="fa fa-check"></i><b>14.1.1</b> Low to medium number of explanatory variables</a></li>
<li class="chapter" data-level="14.1.2" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#medium-to-large-number-of-explanatory-variables"><i class="fa fa-check"></i><b>14.1.2</b> Medium to large number of explanatory variables</a></li>
<li class="chapter" data-level="14.1.3" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#very-large-number-of-explanatory-variables"><i class="fa fa-check"></i><b>14.1.3</b> Very large number of explanatory variables</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#correlated-explanatory-variables"><i class="fa fa-check"></i><b>14.2</b> Correlated explanatory variables</a></li>
<li class="chapter" data-level="14.3" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#models-with-interactions"><i class="fa fa-check"></i><b>14.3</b> Models with interactions</a></li>
<li class="chapter" data-level="14.4" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#sparse-explanations"><i class="fa fa-check"></i><b>14.4</b> Sparse explanations</a></li>
<li class="chapter" data-level="14.5" data-path="summaryInstanceLevel.html"><a href="summaryInstanceLevel.html#additional-uses-of-model-exploration-and-explanation"><i class="fa fa-check"></i><b>14.5</b> Additional uses of model exploration and explanation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model-level.html"><a href="model-level.html"><i class="fa fa-check"></i>Model Level</a></li>
<li class="chapter" data-level="15" data-path="modelLevelExploration.html"><a href="modelLevelExploration.html"><i class="fa fa-check"></i><b>15</b> Introduction to Model Level Exploration</a></li>
<li class="chapter" data-level="16" data-path="modelPerformance.html"><a href="modelPerformance.html"><i class="fa fa-check"></i><b>16</b> Model Performance Measures</a><ul>
<li class="chapter" data-level="16.1" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceIntro"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceIntuition"><i class="fa fa-check"></i><b>16.2</b> Intuition</a></li>
<li class="chapter" data-level="16.3" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceMethod"><i class="fa fa-check"></i><b>16.3</b> Method</a><ul>
<li class="chapter" data-level="16.3.1" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceMethodCont"><i class="fa fa-check"></i><b>16.3.1</b> Continuous dependent variable</a></li>
<li class="chapter" data-level="16.3.2" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceMethodBin"><i class="fa fa-check"></i><b>16.3.2</b> Binary dependent variable</a></li>
<li class="chapter" data-level="16.3.3" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceMethodCateg"><i class="fa fa-check"></i><b>16.3.3</b> Categorical dependent variable</a></li>
<li class="chapter" data-level="16.3.4" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceMethodCount"><i class="fa fa-check"></i><b>16.3.4</b> Count dependent variable</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="modelPerformance.html"><a href="modelPerformance.html#example"><i class="fa fa-check"></i><b>16.4</b> Example</a><ul>
<li class="chapter" data-level="16.4.1" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceApartments"><i class="fa fa-check"></i><b>16.4.1</b> Apartments data</a></li>
<li class="chapter" data-level="16.4.2" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceTitanic"><i class="fa fa-check"></i><b>16.4.2</b> Titanic data</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceProsCons"><i class="fa fa-check"></i><b>16.5</b> Pros and cons</a></li>
<li class="chapter" data-level="16.6" data-path="modelPerformance.html"><a href="modelPerformance.html#modelPerformanceR"><i class="fa fa-check"></i><b>16.6</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="featureImportance.html"><a href="featureImportance.html"><i class="fa fa-check"></i><b>17</b> Variable’s Importance</a><ul>
<li class="chapter" data-level="17.1" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceIntro"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceIntuition"><i class="fa fa-check"></i><b>17.2</b> Intuition</a></li>
<li class="chapter" data-level="17.3" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceMethod"><i class="fa fa-check"></i><b>17.3</b> Method</a></li>
<li class="chapter" data-level="17.4" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceTitanic"><i class="fa fa-check"></i><b>17.4</b> Example: Titanic data</a></li>
<li class="chapter" data-level="17.5" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceProsCons"><i class="fa fa-check"></i><b>17.5</b> Pros and cons</a></li>
<li class="chapter" data-level="17.6" data-path="featureImportance.html"><a href="featureImportance.html#featureImportanceR"><i class="fa fa-check"></i><b>17.6</b> Code snippets for R</a></li>
<li class="chapter" data-level="17.7" data-path="featureImportance.html"><a href="featureImportance.html#more-models"><i class="fa fa-check"></i><b>17.7</b> More models</a></li>
<li class="chapter" data-level="17.8" data-path="featureImportance.html"><a href="featureImportance.html#level-frequency"><i class="fa fa-check"></i><b>17.8</b> Level frequency</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html"><i class="fa fa-check"></i><b>18</b> Partial Dependency Profiles</a><ul>
<li class="chapter" data-level="18.1" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPIntro"><i class="fa fa-check"></i><b>18.1</b> Introduction</a></li>
<li class="chapter" data-level="18.2" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPIntuition"><i class="fa fa-check"></i><b>18.2</b> Intuition</a></li>
<li class="chapter" data-level="18.3" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPMethod"><i class="fa fa-check"></i><b>18.3</b> Method</a><ul>
<li class="chapter" data-level="18.3.1" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#partial-dependency-profiles"><i class="fa fa-check"></i><b>18.3.1</b> Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.3.2" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#clustered-partial-dependency-profiles"><i class="fa fa-check"></i><b>18.3.2</b> Clustered Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.3.3" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#grouped-partial-dependency-profiles"><i class="fa fa-check"></i><b>18.3.3</b> Grouped Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.3.4" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#contrastive-partial-dependency-profiles"><i class="fa fa-check"></i><b>18.3.4</b> Contrastive Partial Dependency profiles</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPExample"><i class="fa fa-check"></i><b>18.4</b> Example: Apartments data</a><ul>
<li class="chapter" data-level="18.4.1" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#partial-dependency-profiles-1"><i class="fa fa-check"></i><b>18.4.1</b> Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.4.2" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#clustered-partial-dependency-profiles-1"><i class="fa fa-check"></i><b>18.4.2</b> Clustered Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.4.3" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#grouped-partial-dependency-profiles-1"><i class="fa fa-check"></i><b>18.4.3</b> Grouped Partial Dependency Profiles</a></li>
<li class="chapter" data-level="18.4.4" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#contrastive-partial-dependency-profiles-1"><i class="fa fa-check"></i><b>18.4.4</b> Contrastive Partial Dependency profiles</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPProsCons"><i class="fa fa-check"></i><b>18.5</b> Pros and cons</a></li>
<li class="chapter" data-level="18.6" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#PDPR"><i class="fa fa-check"></i><b>18.6</b> Code snippets for R</a><ul>
<li class="chapter" data-level="18.6.1" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#clustered-partial-dependency-profiles-2"><i class="fa fa-check"></i><b>18.6.1</b> Clustered Partial Dependency profiles</a></li>
<li class="chapter" data-level="18.6.2" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#grouped-partial-dependency-profiles-2"><i class="fa fa-check"></i><b>18.6.2</b> Grouped Partial Dependency profiles</a></li>
<li class="chapter" data-level="18.6.3" data-path="partialDependenceProfiles.html"><a href="partialDependenceProfiles.html#contrastive-partial-dependency-profiles-2"><i class="fa fa-check"></i><b>18.6.3</b> Contrastive Partial Dependency profiles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html"><i class="fa fa-check"></i><b>19</b> Accumulated Local Profiles</a><ul>
<li class="chapter" data-level="19.1" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#ALPIntro"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#ALPIntuition"><i class="fa fa-check"></i><b>19.2</b> Intuition</a></li>
<li class="chapter" data-level="19.3" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#ALPMethod"><i class="fa fa-check"></i><b>19.3</b> Method</a><ul>
<li class="chapter" data-level="19.3.1" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#partial-dependency-profile"><i class="fa fa-check"></i><b>19.3.1</b> Partial Dependency Profile</a></li>
<li class="chapter" data-level="19.3.2" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#conditional-dependency-profile"><i class="fa fa-check"></i><b>19.3.2</b> Conditional Dependency Profile</a></li>
<li class="chapter" data-level="19.3.3" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#accumulated-local-profile"><i class="fa fa-check"></i><b>19.3.3</b> Accumulated Local Profile</a></li>
<li class="chapter" data-level="19.3.4" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#summaryFeatureEffects"><i class="fa fa-check"></i><b>19.3.4</b> Comparison of Explainers for Feature Effects</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#CDPExample"><i class="fa fa-check"></i><b>19.4</b> Example: Apartments data</a></li>
<li class="chapter" data-level="19.5" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#ALPProsCons"><i class="fa fa-check"></i><b>19.5</b> Pros and cons</a></li>
<li class="chapter" data-level="19.6" data-path="accumulatedLocalProfiles.html"><a href="accumulatedLocalProfiles.html#ALPR"><i class="fa fa-check"></i><b>19.6</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="residualDiagnostic.html"><a href="residualDiagnostic.html"><i class="fa fa-check"></i><b>20</b> Residual Diagnostic</a><ul>
<li class="chapter" data-level="20.1" data-path="residualDiagnostic.html"><a href="residualDiagnostic.html#introduction-1"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
<li class="chapter" data-level="20.2" data-path="residualDiagnostic.html"><a href="residualDiagnostic.html#intuition"><i class="fa fa-check"></i><b>20.2</b> Intuition</a></li>
<li class="chapter" data-level="20.3" data-path="residualDiagnostic.html"><a href="residualDiagnostic.html#code-snippets-for-r"><i class="fa fa-check"></i><b>20.3</b> Code snippets for R</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="use-cases.html"><a href="use-cases.html"><i class="fa fa-check"></i>Use Cases</a></li>
<li class="chapter" data-level="21" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html"><i class="fa fa-check"></i><b>21</b> FIFA 19</a><ul>
<li class="chapter" data-level="21.1" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#introduction-2"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#data-preparation-1"><i class="fa fa-check"></i><b>21.2</b> Data preparation</a></li>
<li class="chapter" data-level="21.3" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#data-understanding"><i class="fa fa-check"></i><b>21.3</b> Data understanding</a></li>
<li class="chapter" data-level="21.4" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#model-assembly-1"><i class="fa fa-check"></i><b>21.4</b> Model assembly</a></li>
<li class="chapter" data-level="21.5" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#model-audit"><i class="fa fa-check"></i><b>21.5</b> Model audit</a></li>
<li class="chapter" data-level="21.6" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#model-understanding-1"><i class="fa fa-check"></i><b>21.6</b> Model understanding</a></li>
<li class="chapter" data-level="21.7" data-path="UseCaseFIFA.html"><a href="UseCaseFIFA.html#instance-understanding"><i class="fa fa-check"></i><b>21.7</b> Instance understanding</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendixes.html"><a href="appendixes.html"><i class="fa fa-check"></i>Appendixes</a></li>
<li class="chapter" data-level="22" data-path="conceptDrift.html"><a href="conceptDrift.html"><i class="fa fa-check"></i><b>22</b> Concept Drift</a><ul>
<li class="chapter" data-level="22.1" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftIntro"><i class="fa fa-check"></i><b>22.1</b> Introduction</a></li>
<li class="chapter" data-level="22.2" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftIntuition"><i class="fa fa-check"></i><b>22.2</b> Intuition</a></li>
<li class="chapter" data-level="22.3" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftMethod"><i class="fa fa-check"></i><b>22.3</b> Method</a></li>
<li class="chapter" data-level="22.4" data-path="conceptDrift.html"><a href="conceptDrift.html#covariate-drift"><i class="fa fa-check"></i><b>22.4</b> Covariate Drift</a></li>
<li class="chapter" data-level="22.5" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftExample"><i class="fa fa-check"></i><b>22.5</b> Example: Titanic data</a></li>
<li class="chapter" data-level="22.6" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftProsCons"><i class="fa fa-check"></i><b>22.6</b> Pros and cons</a></li>
<li class="chapter" data-level="22.7" data-path="conceptDrift.html"><a href="conceptDrift.html#DriftR"><i class="fa fa-check"></i><b>22.7</b> Code snippets for R</a></li>
<li class="chapter" data-level="22.8" data-path="conceptDrift.html"><a href="conceptDrift.html#residual-drift"><i class="fa fa-check"></i><b>22.8</b> Residual Drift</a></li>
<li class="chapter" data-level="22.9" data-path="conceptDrift.html"><a href="conceptDrift.html#code-snippets"><i class="fa fa-check"></i><b>22.9</b> Code snippets</a></li>
<li class="chapter" data-level="22.10" data-path="conceptDrift.html"><a href="conceptDrift.html#model-drift"><i class="fa fa-check"></i><b>22.10</b> Model Drift</a></li>
<li class="chapter" data-level="22.11" data-path="conceptDrift.html"><a href="conceptDrift.html#code-snippets-1"><i class="fa fa-check"></i><b>22.11</b> Code snippets</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-set-hr.html"><a href="data-set-hr.html"><i class="fa fa-check"></i><b>23</b> Data Set HR</a><ul>
<li class="chapter" data-level="23.1" data-path="data-set-hr.html"><a href="data-set-hr.html#HFDataset"><i class="fa fa-check"></i><b>23.1</b> Hire or fire</a><ul>
<li class="chapter" data-level="23.1.1" data-path="data-set-hr.html"><a href="data-set-hr.html#exploration-HR"><i class="fa fa-check"></i><b>23.1.1</b> Data exploration</a></li>
<li class="chapter" data-level="23.1.2" data-path="data-set-hr.html"><a href="data-set-hr.html#model-HR-mr"><i class="fa fa-check"></i><b>23.1.2</b> Multinomial logistic regression</a></li>
<li class="chapter" data-level="23.1.3" data-path="data-set-hr.html"><a href="data-set-hr.html#model-HR-rf"><i class="fa fa-check"></i><b>23.1.3</b> Random forest</a></li>
<li class="chapter" data-level="23.1.4" data-path="data-set-hr.html"><a href="data-set-hr.html#predictionsHR"><i class="fa fa-check"></i><b>23.1.4</b> Model predictions</a></li>
<li class="chapter" data-level="23.1.5" data-path="data-set-hr.html"><a href="data-set-hr.html#ListOfModelsHR"><i class="fa fa-check"></i><b>23.1.5</b> List of objects for the <code>HR</code> example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="ccUseCase.html"><a href="ccUseCase.html"><i class="fa fa-check"></i><b>24</b> Use Case: Call Center</a><ul>
<li class="chapter" data-level="24.1" data-path="ccUseCase.html"><a href="ccUseCase.html#introduction-3"><i class="fa fa-check"></i><b>24.1</b> Introduction</a></li>
<li class="chapter" data-level="24.2" data-path="ccUseCase.html"><a href="ccUseCase.html#iteration-1-crisp-modeling"><i class="fa fa-check"></i><b>24.2</b> Iteration 1: Crisp modeling</a><ul>
<li class="chapter" data-level="24.2.1" data-path="ccUseCase.html"><a href="ccUseCase.html#data-preparation-2"><i class="fa fa-check"></i><b>24.2.1</b> Data preparation</a></li>
<li class="chapter" data-level="24.2.2" data-path="ccUseCase.html"><a href="ccUseCase.html#data-exploration-1"><i class="fa fa-check"></i><b>24.2.2</b> Data exploration</a></li>
<li class="chapter" data-level="24.2.3" data-path="ccUseCase.html"><a href="ccUseCase.html#model-assembly-2"><i class="fa fa-check"></i><b>24.2.3</b> Model assembly</a></li>
<li class="chapter" data-level="24.2.4" data-path="ccUseCase.html"><a href="ccUseCase.html#model-understanding-2"><i class="fa fa-check"></i><b>24.2.4</b> Model understanding</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="ccUseCase.html"><a href="ccUseCase.html#iteration-2-fine-tuning"><i class="fa fa-check"></i><b>24.3</b> Iteration 2: Fine tuning</a><ul>
<li class="chapter" data-level="24.3.1" data-path="ccUseCase.html"><a href="ccUseCase.html#analysis-of-residuals"><i class="fa fa-check"></i><b>24.3.1</b> Analysis of residuals</a></li>
<li class="chapter" data-level="24.3.2" data-path="ccUseCase.html"><a href="ccUseCase.html#sensitivity-analysis"><i class="fa fa-check"></i><b>24.3.2</b> Sensitivity analysis</a></li>
<li class="chapter" data-level="24.3.3" data-path="ccUseCase.html"><a href="ccUseCase.html#deeper-analysis-of-individual-observations"><i class="fa fa-check"></i><b>24.3.3</b> Deeper analysis of individual observations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/pbiecek/DALEX" target="blank">DALEX website</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Predictive Models: Explore, Explain, and Debug</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="UseCaseFIFA" class="section level1">
<h1><span class="header-section-number">Chapter 21</span> FIFA 19</h1>
<p>In previous chapters we introduced a number of methods for instance level exploration of predictive models. In consecutive chapter we showed how to use Ceteris Poribus profiles, SHAP values, LIME or Break Down plots for models created on the dataset <code>titanic</code>. These examples we introduced and discussed separately as each of them was focused on a single method described in a given chapter.</p>
<p>In this chapter we present an example of full process for model development along the process introduces in chapter <a href="modelDevelopmentProcess.html#modelDevelopmentProcess">2</a>. We will use a new dataset for FIFA 19 soccer game. Based on it we will tour through the process of data preparation, model assembly and model understanding. In each phase we show how to combine results from different methods of exploration.</p>
<p>The main goal of this chapter is to show how different techniques complement each other. Some phases, like data preparation, are simplified in order to leave space for the method for visual exploration and explanation of predictive models.</p>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">21.1</span> Introduction</h2>
<p>The story is following. The <code>https://sofifa.com/</code> portal is a reliable website for FIFA ratings of football players. Data from this website was scrapped and make available at the Kaggle webpage <code>https://www.kaggle.com/karangadiya/fifa19</code>.</p>
<p>We will use this data to build a predictive model for assessment of player value. Once the model will be created we will use methods for exploration and explanation to better understand how it is working and also to better understand which factors and how influence the player value.</p>
</div>
<div id="data-preparation-1" class="section level2">
<h2><span class="header-section-number">21.2</span> Data preparation</h2>
<p>The scrapped data contains 89 columns, and variuos information about players along with photo, club, nationality and others.
Here we will focus on 40 players statistics and the way how they influence model predictions.</p>
<p>The data set contains statistics for 16924 players. First, let’s see distribution of selected variables from this dataset.</p>
<p>Player value is heavily skewed. Half of players have estimated values between 0.3 and 2.2 millions of Euro. But few players have estimated values higher than 100 millions of Euro. Below we present the empirical cumulative distribution function with log transformation of the OX axis.</p>
<div class="figure" style="text-align: center"><span id="fig:distFIFA19Value"></span>
<img src="PM_VEE_files/figure-html/distFIFA19Value-1.png" alt="(fig:distFIFA19Value) Empirical cummulative distribution function for values of players. The OX axis is in the log10 transformation." width="60%" />
<p class="caption">
Figure 21.1: (fig:distFIFA19Value) Empirical cummulative distribution function for values of players. The OX axis is in the log10 transformation.
</p>
</div>
<p>Due to a large number of player characteristics we are not going to explore all of them but rather we will focus on four that will be discussed later in this chapter, namely: Age, Reactions, BallControl and ShortPassing.</p>
<p>Figure <a href="UseCaseFIFA.html#fig:distFIFA19histograms">21.2</a> presents distributions for these variables. For <code>Age</code> we see that most players are between 20 and 30 years old. What is interesting in <code>BallControl</code> and <code>ShortPassing</code> is that they have bimodal distribution. The reason for that is that these characteristics are very low for goalkeepers but higher for other players. The variable <code>Reactions</code> has Gaussian shaped distributtion with average 62 and standard deviation 9.</p>
<div class="figure" style="text-align: center"><span id="fig:distFIFA19histograms"></span>
<img src="PM_VEE_files/figure-html/distFIFA19histograms-1.png" alt="(fig:distFIFA19histograms) Distribution of selected characteristics of players." width="90%" />
<p class="caption">
Figure 21.2: (fig:distFIFA19histograms) Distribution of selected characteristics of players.
</p>
</div>
</div>
<div id="data-understanding" class="section level2">
<h2><span class="header-section-number">21.3</span> Data understanding</h2>
<p>Time to see how these variables are linked with player’s value.
Figure <a href="UseCaseFIFA.html#fig:distFIFA19scatter">21.3</a> shows scatterplots for selected four characteristics. Because of the skewness of player’s value the OY value is presented after log transformation.</p>
<p>For <code>Age</code> it looks like the relation is not monotonic, there is some optimal age in which players value is the highest, between 24 and 28 years. Value of youngest players are on average 10x lower, same with olders players.</p>
<p>For variables <code>BallControl</code> and <code>ShortPassing</code> the relation is not monotonic. In general the larger value of these coefficients the higher value of a player and most expensive are players with top characteristics. But among players with very low scores in <code>BallControl</code> and <code>ShortPassing</code> some are very expensive too. As it was suggested earlier, these players are probably goalkeepers.</p>
<p>For variable <code>Reactions</code> the link with player’s value is monotonic. As expected, the higher <code>Reactions</code> the higher player’s value.</p>
<div class="figure" style="text-align: center"><span id="fig:distFIFA19scatter"></span>
<img src="PM_VEE_files/figure-html/distFIFA19scatter-1.png" alt="(fig:distFIFA19scatter) Scatterplot for realtion between selected four players characteristics and values of players." width="90%" />
<p class="caption">
Figure 21.3: (fig:distFIFA19scatter) Scatterplot for realtion between selected four players characteristics and values of players.
</p>
</div>
<p>Let’s compare results from this data exploration with exploration of predictive models that will be fitted on this data.</p>
</div>
<div id="model-assembly-1" class="section level2">
<h2><span class="header-section-number">21.4</span> Model assembly</h2>
<p>Time to build a predictive model for player’s value based on selected characteristics. We will quickly train some elastic model to further explore the relation between player’s characteristics and value.</p>
<p>If the data is clean then building a model is easy. For FIFA 19 data we will try four models with different structures that are able to catch different types of relations. Considered models are:</p>
<ul>
<li>boosting model with 250 trees 1 level depth as implemented in package <code>gbm</code> <span class="citation">(Ridgeway <a href="#ref-gbm">2017</a>)</span>,</li>
<li>boosting model with 250 trees 4 levels depth, this model shall be able to catch interactions between features,</li>
<li>linear model with spline transformation of dependent variables implemented in package <code>rms</code> <span class="citation">(Harrell Jr <a href="#ref-rms">2018</a>)</span>,</li>
<li>random forest model with 250 trees as implemented in package <code>ranger</code> <span class="citation">(Wright and Ziegler <a href="#ref-rangerRpackage">2017</a>)</span>.</li>
</ul>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;gbm&quot;</span>)</a>
<a class="sourceLine" id="cb170-2" data-line-number="2">fifa_gbm_shallow &lt;-<span class="st"> </span><span class="kw">gbm</span>(LogValue<span class="op">~</span>., <span class="dt">data =</span> fifa19small, <span class="dt">n.trees =</span> <span class="dv">250</span>, <span class="dt">interaction.depth =</span> <span class="dv">1</span>, <span class="dt">distribution =</span> <span class="st">&quot;gaussian&quot;</span>)</a>
<a class="sourceLine" id="cb170-3" data-line-number="3"></a>
<a class="sourceLine" id="cb170-4" data-line-number="4">fifa_gbm_deep &lt;-<span class="st"> </span><span class="kw">gbm</span>(LogValue<span class="op">~</span>., <span class="dt">data =</span> fifa19small, <span class="dt">n.trees =</span> <span class="dv">250</span>, <span class="dt">interaction.depth =</span> <span class="dv">4</span>, <span class="dt">distribution =</span> <span class="st">&quot;gaussian&quot;</span>)</a>
<a class="sourceLine" id="cb170-5" data-line-number="5"></a>
<a class="sourceLine" id="cb170-6" data-line-number="6"><span class="kw">library</span>(<span class="st">&quot;ranger&quot;</span>)</a>
<a class="sourceLine" id="cb170-7" data-line-number="7">fifa_rf &lt;-<span class="st"> </span><span class="kw">ranger</span>(LogValue<span class="op">~</span>., <span class="dt">data =</span> fifa19small, <span class="dt">num.trees =</span> <span class="dv">250</span>)</a>
<a class="sourceLine" id="cb170-8" data-line-number="8"></a>
<a class="sourceLine" id="cb170-9" data-line-number="9"><span class="kw">library</span>(<span class="st">&quot;rms&quot;</span>)</a>
<a class="sourceLine" id="cb170-10" data-line-number="10">fifa_ols &lt;-<span class="st"> </span><span class="kw">ols</span>(LogValue <span class="op">~</span><span class="st"> </span><span class="kw">rcs</span>(Age) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(International.Reputation) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Skill.Moves) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Crossing) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Finishing) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(HeadingAccuracy) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(ShortPassing) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Volleys) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Dribbling) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Curve) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(FKAccuracy) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(LongPassing) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(BallControl) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Acceleration) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(SprintSpeed) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Agility) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Reactions) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Balance) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(ShotPower) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Jumping) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Stamina) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Strength) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(LongShots) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Aggression) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Interceptions) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Positioning) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Vision) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Penalties) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Composure) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(Marking) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(StandingTackle) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(SlidingTackle) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(GKDiving) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(GKHandling) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(GKKicking) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(GKPositioning) <span class="op">+</span><span class="st"> </span><span class="kw">rcs</span>(GKReflexes), <span class="dt">data =</span> fifa19small)</a></code></pre></div>
<p>Before we can explore model behavior we need to create explainers with the <code>DALEX::explain</code> function. These explainers will be later used to asses model performance.</p>
<p>Note that models are trained on logarithm of the value, but it will be much more natural to operate on values in Euro. This is why in explainers we specified a user defined predict function that transforms log value to the value in Euro.</p>
<p>Each explainer got also a unique <code>label</code> and corresponding <code>data</code> and <code>y</code> arguments.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;DALEX&quot;</span>)</a>
<a class="sourceLine" id="cb171-2" data-line-number="2">fifa_gbm_exp_deep &lt;-<span class="st"> </span><span class="kw">explain</span>(fifa_gbm_deep, </a>
<a class="sourceLine" id="cb171-3" data-line-number="3">                        <span class="dt">data =</span> fifa19small, <span class="dt">y =</span> <span class="dv">10</span><span class="op">^</span>fifa19small<span class="op">$</span>LogValue, </a>
<a class="sourceLine" id="cb171-4" data-line-number="4">                        <span class="dt">predict_function =</span> <span class="cf">function</span>(m,x) <span class="dv">10</span><span class="op">^</span><span class="kw">predict</span>(m, x, <span class="dt">n.trees =</span> <span class="dv">250</span>),</a>
<a class="sourceLine" id="cb171-5" data-line-number="5">                        <span class="dt">label =</span> <span class="st">&quot;GBM deep&quot;</span>)</a>
<a class="sourceLine" id="cb171-6" data-line-number="6"></a>
<a class="sourceLine" id="cb171-7" data-line-number="7">fifa_gbm_exp_shallow &lt;-<span class="st"> </span><span class="kw">explain</span>(fifa_gbm_shallow, </a>
<a class="sourceLine" id="cb171-8" data-line-number="8">                        <span class="dt">data =</span> fifa19small, <span class="dt">y =</span> <span class="dv">10</span><span class="op">^</span>fifa19small<span class="op">$</span>LogValue, </a>
<a class="sourceLine" id="cb171-9" data-line-number="9">                        <span class="dt">predict_function =</span> <span class="cf">function</span>(m,x) <span class="dv">10</span><span class="op">^</span><span class="kw">predict</span>(m, x, <span class="dt">n.trees =</span> <span class="dv">250</span>),</a>
<a class="sourceLine" id="cb171-10" data-line-number="10">                        <span class="dt">label =</span> <span class="st">&quot;GBM shallow&quot;</span>)</a>
<a class="sourceLine" id="cb171-11" data-line-number="11"></a>
<a class="sourceLine" id="cb171-12" data-line-number="12">fifa_rf_exp &lt;-<span class="st"> </span><span class="kw">explain</span>(fifa_rf, </a>
<a class="sourceLine" id="cb171-13" data-line-number="13">                        <span class="dt">data =</span> fifa19small, <span class="dt">y =</span> <span class="dv">10</span><span class="op">^</span>fifa19small<span class="op">$</span>LogValue, </a>
<a class="sourceLine" id="cb171-14" data-line-number="14">                        <span class="dt">predict_function =</span> <span class="cf">function</span>(m,x) <span class="dv">10</span><span class="op">^</span><span class="kw">predict</span>(m, x)<span class="op">$</span>predictions,</a>
<a class="sourceLine" id="cb171-15" data-line-number="15">                        <span class="dt">label =</span> <span class="st">&quot;RF&quot;</span>)</a>
<a class="sourceLine" id="cb171-16" data-line-number="16"></a>
<a class="sourceLine" id="cb171-17" data-line-number="17">fifa_rms_exp &lt;-<span class="st"> </span><span class="kw">explain</span>(fifa_ols, </a>
<a class="sourceLine" id="cb171-18" data-line-number="18">                        <span class="dt">data =</span> fifa19small, <span class="dt">y =</span> <span class="dv">10</span><span class="op">^</span>fifa19small<span class="op">$</span>LogValue, </a>
<a class="sourceLine" id="cb171-19" data-line-number="19">                        <span class="dt">predict_function =</span> <span class="cf">function</span>(m,x) <span class="dv">10</span><span class="op">^</span><span class="kw">predict</span>(m, x),</a>
<a class="sourceLine" id="cb171-20" data-line-number="20">                        <span class="dt">label =</span> <span class="st">&quot;RMS&quot;</span>)</a></code></pre></div>
</div>
<div id="model-audit" class="section level2">
<h2><span class="header-section-number">21.5</span> Model audit</h2>
<p>We have createwd four models. Let’s see which model is better. Figure <a href="UseCaseFIFA.html#fig:modelPerforamanceBoxplot">21.4</a> compares absolute model residuals. On average, smallest residuals are for the Random Forest model.</p>
<div class="figure" style="text-align: center"><span id="fig:modelPerforamanceBoxplot"></span>
<img src="PM_VEE_files/figure-html/modelPerforamanceBoxplot-1.png" alt="(fig:modelPerforamanceBoxplot) Distribution of absolute values of residuals. The smaller are values the better is the model. Crosses stand for averages." width="70%" />
<p class="caption">
Figure 21.4: (fig:modelPerforamanceBoxplot) Distribution of absolute values of residuals. The smaller are values the better is the model. Crosses stand for averages.
</p>
</div>
<p>But performance is not everything. Figure <a href="UseCaseFIFA.html#fig:modelPerformanceScatterplot">21.5</a> show diagnostic plots for every model. Each scatterplot shows true target variable against model predictions. The random forest model has predictions closest to the true target values. Extreme predictions (lowest and highest) are biased towards the mean, what is typical for such type of models.</p>
<div class="figure" style="text-align: center"><span id="fig:modelPerformanceScatterplot"></span>
<img src="PM_VEE_files/figure-html/modelPerformanceScatterplot-1.png" alt="(fig:modelPerformanceScatterplot) Diagnostic plots Predicted vs. True target values. Points correspond to particular players. The closer to the diagonal the better is the model." width="100%" />
<p class="caption">
Figure 21.5: (fig:modelPerformanceScatterplot) Diagnostic plots Predicted vs. True target values. Points correspond to particular players. The closer to the diagonal the better is the model.
</p>
</div>
</div>
<div id="model-understanding-1" class="section level2">
<h2><span class="header-section-number">21.6</span> Model understanding</h2>
<p>Figure <a href="UseCaseFIFA.html#fig:featureImportance">21.6</a> shows variable importance plots for four selected models. Only 12 most important variables in each model are presented.</p>
<p>Some variables are important for all models, like <code>Reactions</code> or <code>BallControl</code>. Importance of other variables may be very different. All models except random forest are using some characteristics of goalkeepers.</p>
<div class="figure" style="text-align: center"><span id="fig:featureImportance"></span>
<img src="PM_VEE_files/figure-html/featureImportance-1.png" alt="(fig:featureImportance) Variable importance plots for four considered models." width="100%" />
<p class="caption">
Figure 21.6: (fig:featureImportance) Variable importance plots for four considered models.
</p>
</div>
<p>Figure <a href="UseCaseFIFA.html#fig:usecaseFIFApdp">21.7</a> shows Partial Dependency profiles for the most important variables. They show average relation between particular variable and players value.</p>
<p>The general direction of relation in all models is the same. The larger the player characteristic the higher is the price. With a single exception – variable Age.</p>
<p>Random forest model has smallest range of average model responses. All tree-based models stabilize average predictions at the ends of variables ranges.</p>
<p>The most interesting difference between Exploratory Data Analysis presented in Figure <a href="UseCaseFIFA.html#fig:distFIFA19scatter">21.3</a> and Exploratory Model Analysis presented in Figure <a href="UseCaseFIFA.html#fig:usecaseFIFApdp">21.7</a> is related with variable <code>Age</code>. In Figure <a href="UseCaseFIFA.html#fig:distFIFA19scatter">21.3</a> the relation was non-monotonic while in Figure <a href="UseCaseFIFA.html#fig:usecaseFIFApdp">21.7</a> its monotonically decreasing.
How we can explain this difference?
One explanation is following: Youngest players have lower values not because of their age but because of lower skills that are correlated with Age. The EDA analysis cannot entangle these effects, thus for youngest players we see lover values also because their lower skills. But models learned that once we take skills into account, the effect of age is only decreasing.</p>
<p>This example also shows, that proper <em>exploration of models may be more insightful than exploration of raw data</em>. Variable <code>Age</code> is correlated with other confounding variables. This entangle was visible in the EDA analysis. But models learned to disentangle these effects.</p>
<div class="figure" style="text-align: center"><span id="fig:usecaseFIFApdp"></span>
<img src="PM_VEE_files/figure-html/usecaseFIFApdp-1.png" alt="(fig:usecaseFIFApdp) Partial dependency profiles for four selected variables." width="90%" />
<p class="caption">
Figure 21.7: (fig:usecaseFIFApdp) Partial dependency profiles for four selected variables.
</p>
</div>
</div>
<div id="instance-understanding" class="section level2">
<h2><span class="header-section-number">21.7</span> Instance understanding</h2>
<p>Time to see how the model behaves for a single observation / player
This can be done for any player, but for this example we will use <em>Robert Lewandowski</em>, the most valuable polish football player.</p>
<p>Here are his characteristics in the FIFA 19 database.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" data-line-number="1">fifa19small[<span class="st">&quot;R. Lewandowski&quot;</span>,]</a></code></pre></div>
<pre><code>##                Age Special Preferred.Foot International.Reputation Weak.Foot
## R. Lewandowski  29    2152          Right                        4         4
##                Skill.Moves Crossing Finishing HeadingAccuracy ShortPassing
## R. Lewandowski           4       62        91              85           83
##                Volleys Dribbling Curve FKAccuracy LongPassing BallControl
## R. Lewandowski      89        85    77         86          65          89
##                Acceleration SprintSpeed Agility Reactions Balance ShotPower
## R. Lewandowski           77          78      78        90      78        88
##                Jumping Stamina Strength LongShots Aggression Interceptions
## R. Lewandowski      84      78       84        84         80            39
##                Positioning Vision Penalties Composure Marking StandingTackle
## R. Lewandowski          91     77        88        86      34             42
##                SlidingTackle GKDiving GKHandling GKKicking GKPositioning
## R. Lewandowski            19       15          6        12             8
##                GKReflexes LogValue
## R. Lewandowski         10 7.886491</code></pre>
<p>In the chapter <a href="breakDown.html#breakDown">7</a> we showed a Break Down plots for presentation of variable attributions. In the Figure <a href="UseCaseFIFA.html#fig:usecaseFIFAbreakDown">21.8</a> we show Break Down plots for Robert Lewandowski predictions.</p>
<div class="figure" style="text-align: center"><span id="fig:usecaseFIFAbreakDown"></span>
<img src="PM_VEE_files/figure-html/usecaseFIFAbreakDown-1.png" alt="(fig:usecaseFIFAbreakDown) Break down plot for GBM model." width="70%" />
<p class="caption">
Figure 21.8: (fig:usecaseFIFAbreakDown) Break down plot for GBM model.
</p>
</div>
<p>In the chapter <a href="shapley.html#shapley">9</a> we showed a SHAP values for presentation of variable attributions. In the Figure <a href="UseCaseFIFA.html#fig:usecaseFIFAshap">21.9</a> we show SHAP plots for Robert Lewandowski predictions. As it was expected, these explanations are consistent.</p>
<div class="figure" style="text-align: center"><span id="fig:usecaseFIFAshap"></span>
<img src="PM_VEE_files/figure-html/usecaseFIFAshap-1.png" alt="(fig:usecaseFIFASHAP) SHAP values for GBM model." width="70%" />
<p class="caption">
Figure 21.9: (fig:usecaseFIFASHAP) SHAP values for GBM model.
</p>
</div>
<p>Robert Lewandowski is a striker. It makes sense that his most valuable characteristics are Reactions and BallControl.</p>
<p>How these plots will look like for goalkeepers? Figure <a href="UseCaseFIFA.html#fig:usecaseFIFAbreakDownWS">21.10</a> show Break Down plots for Wojciech Szczęsny - most valuable polish goal keeper. As we see the most important coefficients make sense, most of them are liked with properties of goalkeepers.</p>
<div class="figure" style="text-align: center"><span id="fig:usecaseFIFAbreakDownWS"></span>
<img src="PM_VEE_files/figure-html/usecaseFIFAbreakDownWS-1.png" alt="(fig:usecaseFIFAbreakDownWS) Break down plot for GBM model." width="70%" />
<p class="caption">
Figure 21.10: (fig:usecaseFIFAbreakDownWS) Break down plot for GBM model.
</p>
</div>
<p>In chapter <a href="ceterisParibus.html#ceterisParibus">11</a> we introduced Ceteris Paribus profiles. These are more details steps of the model exploration. Based on an example of Robert Lewandowski, let’s see how change in one characteristic affects model value.</p>
<p>All models give Robert best scores when it comes to <code>Reactions</code>, <code>BallControl</code> or <code>Dribling</code>. When it comes to Age we see that the predicted value is just before a larger drop in value prediction.</p>
<div class="figure" style="text-align: center"><span id="fig:usecaseFIFAceterisParibus"></span>
<img src="PM_VEE_files/figure-html/usecaseFIFAceterisParibus-1.png" alt="(fig:usecaseFIFAceterisParibus) Ceteris Paribus plots for four selected observations." width="90%" />
<p class="caption">
Figure 21.11: (fig:usecaseFIFAceterisParibus) Ceteris Paribus plots for four selected observations.
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-rms">
<p>Harrell Jr, Frank E. 2018. <em>Rms: Regression Modeling Strategies</em>. <a href="https://CRAN.R-project.org/package=rms">https://CRAN.R-project.org/package=rms</a>.</p>
</div>
<div id="ref-gbm">
<p>Ridgeway, Greg. 2017. <em>Gbm: Generalized Boosted Regression Models</em>. <a href="https://CRAN.R-project.org/package=gbm">https://CRAN.R-project.org/package=gbm</a>.</p>
</div>
<div id="ref-rangerRpackage">
<p>Wright, Marvin N., and Andreas Ziegler. 2017. <em>ranger: A Fast Implementation of Random Forests for High Dimensional Data in C++ and R</em>. <em>Journal of Statistical Software</em>. Vol. 77. <a href="https://doi.org/10.18637/jss.v077.i01">https://doi.org/10.18637/jss.v077.i01</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="use-cases.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendixes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["PM_VEE.pdf", "PM_VEE.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
